# 테스트 범위와 종류
```Test``` 코드를 작성하는 법에 대해서는 꾸준히 연습하고 있지만, ```단위테스트```, ```기능테스트``` 등 정확히 어떤 의미인지 알지 못하는 말들이 있었다. 궁금증을 해결하고자 테스트 범위와 종류, 사용상황을 간단히 알아보자.
## 일반적인 웹 애플리케이션 구조
![image](https://user-images.githubusercontent.com/87312401/139517191-747ddfa7-b67a-47ba-adf2-a57461e85e79.png)
일반적으로 웹 애플리케이션의 구조는 위 사진과 같고, 테스트 범위에 따라 테스트 종류가 달라진다. 
## 기능테스트
기능테스트는 ```사용자 입장```에서 시스템이 제공하는 기능이 올바르게 동작하는지 확인한다. 만약 회원가입 기능을 테스트한다고 가정해보면 필요한 환경은 다음과 같다.
1. 웹서버
2. 데이터베이스
3. 웹 브라우저
4. 추가 인증 관련 환경

이 테스트는 끝에서 끝까지 모든 구성요소를 하나의 논리적 기능으로 다루기 때문에 ```E2E 테스트```라고도 불린다.

> 기능테스트는 코드를 작성하고 db에 select 쿼리를 날리는 수준의 테스트가 아니다. 모바일 애플리케이션이라면 실제로 다운받고 그 기능을 사용자처럼 사용해야하고, 웹 또한 마찬가지이다. 이는 주로 QA 팀에서 담당한다.

## 통합테스트
기능테스트가 실제 사용자 입장에서 애플리케이션의 기능을 테스트하는 것이라면, 통합테스트는 프레임워크, 라이브러리, 데이터베이스가 모두 올바르게 작동하는지 확인하는 작업이다. 이때, ```설정```, ```트랜잭션```,``` sql쿼리```등을 확인하고 잘 작동하는지 검증한다.
* 통합테스트를 실행하기 위해서는 DB나 캐시 서버와 같은 연동 대상을 구성해야한다.
* 통합테스트는 DB연결, 소켓통신, 스프링 컨테이너 초기화 등  테스트 성능에 부정적인 영향을 주는 요소가 있다.
* 외부 시스템과 연동할 경우 통합테스트 환경 구성이 어려울 수 있다.
## 단위테스트
개별 코드나 컴포넌트가 기대한대로 동작하는지 확인하는 작업이다, 한 클래스, 메서드 단위로 테스트가 진행되고 의존대상은 스텁이나 모의객체를 활용하는 경우가 종종 있다.

## 정리
### 속도
**기능 테스트 < 통합 테스트 < 단위 테스트**
따라서 가능하면 단위 테스트에서 다양한 상황을 다루고 통합테스트나 기능테스트는 주요한 상황에 초점을 맞춰 진행하자. 테스트 실행 속도에 따라 소프트웨어 품질 저하로 이어질 수 있다. 가능한 Spring Container를 호출하지 않으며 기능단위로 테스트를 돌리는 것이 테스트 코드의 성능을 개선할 수 있는 방법인 것 같다.
